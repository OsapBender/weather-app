!function(n){var r={};function c(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,c),t.l=!0,t.exports}c.m=n,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)c.d(n,r,function(e){return t[e]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="",c(c.s=275)}({275:function(e,t,n){e.exports=n(280)},276:function(e,t,n){var r=n(277);"string"==typeof r&&(r=[[e.i,r,""]]);var c={hmr:!0,transform:void 0,insertInto:void 0};n(278)(r,c);r.locals&&(e.exports=r.locals)},277:function(e,t,n){},278:function(e,t,r){var n,c,a,s={},l=(n=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===c&&(c=n.apply(this,arguments)),c}),i=(a={},function(e,t){if("function"==typeof e)return e();if(void 0===a[e]){var n=function(e,t){return t?t.querySelector(e):document.querySelector(e)}.call(this,e,t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}a[e]=n}return a[e]}),u=null,d=0,o=[],f=r(279);function m(e,t){for(var n=0;n<e.length;n++){var r=e[n],c=s[r.id];if(c){c.refs++;for(var a=0;a<c.parts.length;a++)c.parts[a](r.parts[a]);for(;a<r.parts.length;a++)c.parts.push(_(r.parts[a],t))}else{var i=[];for(a=0;a<r.parts.length;a++)i.push(_(r.parts[a],t));s[r.id]={id:r.id,refs:1,parts:i}}}}function p(e,t){for(var n=[],r={},c=0;c<e.length;c++){var a=e[c],i=t.base?a[0]+t.base:a[0],o={css:a[1],media:a[2],sourceMap:a[3]};r[i]?r[i].parts.push(o):n.push(r[i]={id:i,parts:[o]})}return n}function v(e,t){var n=i(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=o[o.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),o.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var c=i(e.insertAt.before,n);n.insertBefore(t,c)}}function y(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=o.indexOf(e);0<=t&&o.splice(t,1)}function h(e){var t=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var n=function(){0;return r.nc}();n&&(e.attrs.nonce=n)}return g(t,e.attrs),v(e,t),t}function g(t,n){Object.keys(n).forEach(function(e){t.setAttribute(e,n[e])})}function _(t,e){var n,r,c,a,i,o;if(e.transform&&t.css){if(!(a="function"==typeof e.transform?e.transform(t.css):e.transform.default(t.css)))return function(){};t.css=a}if(e.singleton){var s=d++;n=u||(u=h(e)),r=L.bind(null,n,s,!1),c=L.bind(null,n,s,!0)}else c=t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(i=e,o=document.createElement("link"),void 0===i.attrs.type&&(i.attrs.type="text/css"),i.attrs.rel="stylesheet",g(o,i.attrs),v(i,o),r=function(e,t,n){var r=n.css,c=n.sourceMap,a=void 0===t.convertToAbsoluteUrls&&c;(t.convertToAbsoluteUrls||a)&&(r=f(r));c&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(c))))+" */");var i=new Blob([r],{type:"text/css"}),o=e.href;e.href=URL.createObjectURL(i),o&&URL.revokeObjectURL(o)}.bind(null,n=o,e),function(){y(n),n.href&&URL.revokeObjectURL(n.href)}):(n=h(e),r=function(e,t){var n=t.css,r=t.media;r&&e.setAttribute("media",r);if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),function(){y(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else c()}}e.exports=function(e,i){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(i=i||{}).attrs="object"==typeof i.attrs?i.attrs:{},i.singleton||"boolean"==typeof i.singleton||(i.singleton=l()),i.insertInto||(i.insertInto="head"),i.insertAt||(i.insertAt="bottom");var o=p(e,i);return m(o,i),function(e){for(var t=[],n=0;n<o.length;n++){var r=o[n];(c=s[r.id]).refs--,t.push(c)}e&&m(p(e,i),i);for(n=0;n<t.length;n++){var c;if(0===(c=t[n]).refs){for(var a=0;a<c.parts.length;a++)c.parts[a]();delete s[c.id]}}}};var b,S=(b=[],function(e,t){return b[e]=t,b.filter(Boolean).join("\n")});function L(e,t,n,r){var c=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=S(t,c);else{var a=document.createTextNode(c),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(a,i[t]):e.appendChild(a)}}},279:function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var c=t.protocol+"//"+t.host,a=c+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var n,r=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(r)?e:(n=0===r.indexOf("//")?r:0===r.indexOf("/")?c+r:a+r.replace(/^\.\//,""),"url("+JSON.stringify(n)+")")})}},280:function(e,t,n){"use strict";n.r(t);n(276);var r=n(61),f=document.querySelector(".preloader"),c=document.querySelector(".error"),a=document.querySelector(".error__message");function i(e){e&&(a.textContent=e),c.classList.add("active"),setTimeout(function(){return c.classList.remove("active")},5e3)}var o=document.querySelector(".forecast__add-city"),s=document.querySelector(".select-city"),l=document.querySelector(".select-city__close"),u=document.querySelector(".select-city .search__input"),d=document.querySelector(".search__submit"),m=document.querySelector(".select-city__list-cities"),p=document.querySelector(".select-city__list-cities "),v=["Абакан","Азов","Александров","Алексин","Альметьевск","Анапа","Ангарск","Анжеро Судженск","Апатиты","Арзамас","Армавир","Арсеньев","Артем","Архангельск","Асбест","Астрахань","Ачинск","Балаково","Балахна","Балашиха","Балашов","Барнаул","Батайск","Белгород","Белебей","Белово","Белорецк","Белореченск","Бердск","Березники","Бийск","Биробиджан","Бор","Борисоглебск","Боровичи","Братск","Брянск","Бугульма","Буденновск","Бузулук","Буйнакск","Великие Луки","Великий Новгород","Верхняя Пышма","Видное","Владивосток","Владикавказ","Владимир","Волгоград","Волгодонск","Волжск","Волжский","Вологда","Вольск","Воркута","Воронеж","Воскресенск","Воткинск","Всеволожск","Выборг","Выкса","Вязьма","Гатчина","Геленджик","Георгиевск","Глазов","Горно-Алтайск","Грозный","Губкин","Гудермес","Гуково","Гусь-Хрустальный","Дербент","Дзержинск","Димитровград","Дмитров","Долгопрудный","Домодедово","Донской","Дубна","Евпатория","Егорьевск","Ейск","Екатеринбург","Елабуга","Елец","Ессентуки","Жигулевск","Жуковский","Заречный","Зеленогорск","Зеленодольск","Златоуст","Иваново","Ивантеевка","Ижевск","Избербаш","Иркутск","Искитим","Ишим","Ишимбай","Йошкар-Ола","Казань","Калининград","Калуга","Каменск-Уральский","Каменск-Шахтинский","Камышин","Канск","Каспийск","Кемерово","Керчь","Кинешма","Кириши","Кирово-Чепецк","Киселевск","Кисловодск","Клин","Клинцы","Ковров","Когалым","Коломна","Комсомольск-на-Амуре","Копейск","Королев","Кострома","Котлас","Красногорск","Краснодар","Краснокаменск","Краснокамск","Краснотурьинск","Красноярск","Кропоткин","Крымск","Кстово","Кузнецк","Кумертау","Кунгур","Курган","Курск","Кызыл","Лабинск","Лениногорск","Ленинск-Кузнецкий","Лесосибирск","Липецк","Лиски","Лобня","Лысьва","Лыткарино","Люберцы","Магадан","Магнитогорск","Майкоп","Махачкала","Междуреченск","Мелеуз","Миасс","Минеральные Воды","Минусинск","Михайловка","Мичуринск","Москва","Мурманск","Муром","Мытищи","Набережные Челны","Назарово","Назрань","Нальчик","Наро-Фоминск","Находка","Невинномысск","Нерюнгри","Нефтекамск","Нефтеюганск","Нижневартовск","Нижнекамск","Нижний Новгород","Нижний Тагил","Новоалтайск","Новокузнецк","Новокуйбышевск","Новомосковск","Новороссийск","Новосибирск","Новотроицк","Новоуральск","Новочебоксарск","Новочеркасск","Новошахтинск","Новый Уренгой","Ногинск","Норильск","Ноябрьск","Нягань","Обнинск","Одинцово","Октябрьский","Омск","Орел","Оренбург","Орехово-Зуево","Орск","Павлово","Павловский Посад","Пенза","Первоуральск","Пермь","Петрозаводск","Петропавловск-Камчатски","Подольск","Полевской","Прокопьевск","Прохладный","Псков","Пушкино","Пятигорск","Раменское","Ревда","Реутов","Ржев","Рославль","Россошь","Ростов-на-Дону","Рубцовск","Рыбинск","Рязань","Салават","Сальск","Самара","Санкт-Петербург","Саранск","Сарапул","Саратов","Саров","Свободный","Севастополь","Северодвинск","Северск","Сергиев Посад","Серов","Серпухов","Сертолово","Сибай","Симферополь","Славянск-на-Кубани","Смоленск","Соликамск","Солнечногорск","Сосновый Бор","Сочи","Ставрополь","Старый Оскол","Стерлитамак","Ступино","Сургут","Сызрань","Сыктывкар","Таганрог","Тамбов","Тверь","Тимашевск","Тихвин","Тихорецк","Тобольск","Тольятти","Томск","Троицк","Туапсе","Туймазы","Тула","Тюмень","Узловая","Улан-Удэ","Ульяновск","Урус-Мартан","Уссурийск","Усть-Илимск","Уфа","Ухта","Феодосия","Фрязино","Хабаровск","Ханты-Мансийск","Хасавюрт","Химки","Усолье-Сибирскоев","Чайковский","Чапаевск","Чебоксары","Челябинск","Черемхово","Череповец","Черкесск","Черногорск","Чехов","Чистополь","Чита","Шадринск","Шали","Шахты","Шуя","Щекино","Щелково","Электросталь","Элиста","Энгельс","Южно-Сахалинск","Юрга","Якутск","Ялта","Ярославль"],y=[];function h(e){var t;t=e.querySelector(".city-name")?e.querySelector(".city-name").textContent:e.textContent;var n=document.getElementById(t);console.log(n);var r=n.closest(".forecast__card");console.log(r);var c=G.querySelectorAll(".forecast__card");e.classList.remove("active"),localStorage.removeItem(t),G.removeChild(r),2===c.length&&document.querySelector(".other-cities").classList.remove("active");for(var a=e.dataset.indexCity,i=JSON.parse(localStorage.getItem("activeLinks")),o=0;o<i.length;o+=1)i[o].id===a&&(i.splice(o,1),y.forEach(function(e,t){e.id===a&&y.splice(t,1)}),0===i.length?localStorage.removeItem("activeLinks"):localStorage.setItem("activeLinks",JSON.stringify(i)))}function g(){!function(e,t){for(var n=0;n<e.length;n+=1){var r='<a class="select-city__city-link city-name" data-index-city="'.concat(v.indexOf(e[n]),'" href="#">').concat(e[n],"</a>"),c=document.createElement("LI");c.classList.add("select-city__list-item"),c.innerHTML=r,t.appendChild(c)}}(v,p)}var _=function(e){e.preventDefault();var t=e.target,n=t.dataset.indexCity;if(t.classList.contains("active"))h(t);else{var r=JSON.parse(localStorage.getItem("activeLinks"));if(r&&4<r.length){return i("Нельзя добавить более 5 городов."),!1}t.classList.add("active"),localStorage.getItem("activeLinks")?(r.map(function(e){return e.id}),-1===r.indexOf(n)&&(y.push({id:n}),localStorage.setItem("activeLinks",JSON.stringify(y)))):(y.push({id:n}),localStorage.setItem("activeLinks",JSON.stringify(y)));var c=t.textContent;localStorage.getItem(c)||(localStorage.setItem(c,c),fetch("https://api.openweathermap.org/data/2.5/weather?q=".concat(c,"&appid=00c1c0e14919095681ab242a6510b2da&lang=ru&units=metric")).then(function(e){return e.json()}).then(function(e){J(e)}).catch(function(){return i()}))}};function b(e,t,n,r,c,a,i){try{var o=e[a](i),s=o.value}catch(e){return void n(e)}o.done?t(s):Promise.resolve(s).then(r,c)}function S(o){return function(){var e=this,i=arguments;return new Promise(function(t,n){var r=o.apply(e,i);function c(e){b(r,t,n,c,a,"next",e)}function a(e){b(r,t,n,c,a,"throw",e)}c(void 0)})}}var L=document.querySelector(".detailed-forecast"),w=[],C=document.querySelector(".sublist--time"),x=document.querySelector(".sublist--temp"),M=document.querySelector(".sublist--humidity"),E=document.querySelector(".sublist--wind-direction"),T=document.querySelector(".sublist--wind-speed"),q=document.querySelector(".detailed-forecast__header"),k=document.createElement("BUTTON");function I(e){e&&document.querySelector('.select-city [data-index-city = "'.concat(e,'"]')).classList.remove("active");L.classList.remove("active"),[C,x,M,E,T].forEach(function(e){e.textContent=""}),q.querySelector(".detailed-forecast__delete")&&q.removeChild(k)}function A(){return(A=S(regeneratorRuntime.mark(function e(t,n){var r,c,a,i,o,s,l,u,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.classList.remove("done");case 2:return e.next=4,fetch(t);case 4:return r=e.sent,e.next=7,r.json();case 7:return r=e.sent,e.next=10,r.list;case 10:for(c=e.sent,a=0;a<c.length;a+=1)i=c[a].dt_txt.match(/\d+:\d+/g),o=Math.round(c[a].main.temp),s=c[a].main.humidity,l=K(c[a].wind.deg),u=Math.round(c[a].wind.speed),d=H(c[a].weather[0].description),w.push({time:i,temp:o,humidity:s,direction:l,speed:u,img:d});return e.next=14,w.forEach(function(e){var t=document.createElement("LI");t.classList.add("sublist__item"),t.innerHTML='<span class="sublist__time">'.concat(e.time,"</span>");var n=document.createElement("LI");n.classList.add("sublist__item"),n.innerHTML='<div class="sublist__fact">\n            <img src="'.concat(e.img,'" class="sublist__icon" alt="Forecast icon"">\n            <span class="sublist__temp">').concat(e.temp,"</span>\n        </div>");var r=document.createElement("LI");r.classList.add("sublist__item"),r.innerHTML='<span class="sublist__humidity">'.concat(e.humidity,"%</span>");var c=document.createElement("LI");c.classList.add("sublist__item"),c.innerHTML='<span class="sublist__wind-direction">'.concat(e.direction,"</span>");var a=document.createElement("LI");a.classList.add("sublist__item"),a.innerHTML='<span class="sublist__wind-speed">'.concat(e.speed," км/ч</span>"),C.appendChild(t),x.appendChild(n),M.appendChild(r),E.appendChild(c),T.appendChild(a)});case 14:return n&&(k.type="button",k.classList.add("detailed-forecast__delete"),k.name="Delete city",k.textContent="Удалить город",q.appendChild(k)),e.next=17,w.splice(0,w.length);case 17:return e.next=19,L.classList.add("active");case 19:setTimeout(function(){return f.classList.add("done")},500);case 20:case"end":return e.stop()}},e)}))).apply(this,arguments)}var O=function(e,t){e.preventDefault();var n=t.querySelector(".city-name").textContent,r=!1;t.classList.contains("forecast__link")&&(r=!0),function(e,t){A.apply(this,arguments)}("https://api.openweathermap.org/data/2.5/forecast?q=".concat(n,"&appid=00c1c0e14919095681ab242a6510b2da&lang=ru&units=metric&cnt=8"),r),k.onclick=function(){var e=t.dataset.indexCity;h(t),I(e)}};function B(){return N.apply(this,arguments)}function N(){return(N=S(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,document.querySelectorAll('[data-forecast="detailed"]');case 2:return t=e.sent,e.next=5,t.forEach(function(t){t.onclick=function(e){Object(r.debounce)(O(e,t),1e3)}});case 5:return e.next=7,document.addEventListener("click",function(e){if(e.target===L){I(!1)}});case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,c=!1,a=void 0;try{for(var i,o=e[Symbol.iterator]();!(r=(i=o.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){c=!0,a=e}finally{try{r||null==o.return||o.return()}finally{if(c)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var U={AU:"Австралия",AT:"Австрия",AZ:"Азербайджан",AX:"Аландские острова",AL:"Албания",DZ:"Алжир",VI:"Виргинские Острова (США)",AS:"Американское Самоа",AI:"Ангилья",AO:"Ангола",AD:"Андорра",AQ:"Антарктида",AG:"Антигуа и Барбуда",AR:"Аргентина",AM:"Армения",AW:"Аруба",AF:"Афганистан",BS:"Багамы",BD:"Бангладеш",BB:"Барбадос",BH:"Бахрейн",BZ:"Белиз",BY:"Беларусь",BE:"Бельгия",BJ:"Бенин",BM:"Бермуды",BG:"Болгария",BO:"Боливия",BQ:"Бонэйр, Синт-Эстатиус и Саба",BA:"Босния и Герцеговина",BW:"Ботсвана",BR:"Бразилия",IO:"Британская территория в Индийском океане",VG:"Виргинские Острова (Великобритания)",BN:"Бруней",BF:"Буркина-Фасо",BI:"Бурунди",BT:"Бутан",VU:"Вануату",VA:"Ватикан",GB:"Великобритания",HU:"Венгрия",VE:"Венесуэла",UM:"Внешние малые острова (США)",TL:"Восточный Тимор",VN:"Вьетнам",GA:"Габон",HT:"Гаити",GY:"Гайана",GM:"Гамбия",GH:"Гана",GP:"Гваделупа",GT:"Гватемала",GF:"Гвиана",GN:"Гвинея",GW:"Гвинея-Бисау",DE:"Германия",GG:"Гернси",GI:"Гибралтар",HN:"Гондурас",HK:"Гонконг",GD:"Гренада",GL:"Гренландия",GR:"Греция",GE:"Грузия",GU:"Гуам",DK:"Дания",JE:"Джерси",DJ:"Джибути",DM:"Доминика",DO:"Доминиканская Республика",CD:"Демократическая Республика Конго",EG:"Египет",ZM:"Замбия",EH:"САДР",ZW:"Зимбабве",IL:"Израиль",IN:"Индия",ID:"Индонезия",JO:"Иордания",IQ:"Ирак",IR:"Иран",IE:"Ирландия",IS:"Исландия",ES:"Испания",IT:"Италия",YE:"Йемен",CV:"Кабо-Верде",KZ:"Казахстан",KY:"Острова Кайман",KH:"Камбоджа",CM:"Камерун",CA:"Канада",QA:"Катар",KE:"Кения",CY:"Кипр",KG:"Киргизия",KI:"Кирибати",TW:"Китайская Республика",KP:"КНДР (Корейская Народно-Демократическая Республика)",CN:"КНР (Китайская Народная Республика)",CC:"Кокосовые острова",CO:"Колумбия",KM:"Коморы",CR:"Коста-Рика",CI:"Кот-д’Ивуар",CU:"Куба",KW:"Кувейт",CW:"Кюрасао",LA:"Лаос",LV:"Латвия",LS:"Лесото",LR:"Либерия",LB:"Ливан",LY:"Ливия",LT:"Литва",LI:"Лихтенштейн",LU:"Люксембург",MU:"Маврикий",MR:"Мавритания",MG:"Мадагаскар",YT:"Майотта",MO:"Макао",MW:"Малави",MY:"Малайзия",ML:"Мали",MV:"Мальдивы",MT:"Мальта",MA:"Марокко",MQ:"Мартиника",MH:"Маршалловы Острова",MX:"Мексика",FM:"Микронезия",MZ:"Мозамбик",MD:"Молдавия",MC:"Монако",MN:"Монголия",MS:"Монтсеррат",MM:"Мьянма",NA:"Намибия",NR:"Науру",NP:"Непал",NE:"Нигер",NG:"Нигерия",NL:"Нидерланды",NI:"Никарагуа",NU:"Ниуэ",NZ:"Новая Зеландия",NC:"Новая Каледония",NO:"Норвегия",AE:"ОАЭ",OM:"Оман",BV:"Остров Буве",IM:"Остров Мэн",CK:"Острова Кука",NF:"Остров Норфолк",CX:"Остров Рождества",PN:"Острова Питкэрн",SH:"Острова Святой Елены, Вознесения и Тристан-да-Кунья",PK:"Пакистан",PW:"Палау",PS:"Государство Палестина",PA:"Панама",PG:"Папуа — Новая Гвинея",PY:"Парагвай",PE:"Перу",PL:"Польша",PT:"Португалия",PR:"Пуэрто-Рико",CG:"Республика Конго",KR:"Республика Корея",RE:"Реюньон",RU:"Россия",RW:"Руанда",RO:"Румыния",SV:"Сальвадор",W:"Самоа",Sm:"Сан-Марино",St:"Сан-Томе и Принсипи",Sa:"Саудовская Аравия",Sz:"Свазиленд",Mk:"Северная Македония",Mp:"Северные Марианские Острова",Sc:"Сейшельские Острова",Bl:"Сен-Бартелеми",Mf:"Сен-Мартен",Pm:"Сен-Пьер и Микелон",Sn:"Сенегал",Vc:"Сент-Винсент и Гренадины",Kn:"Сент-Китс и Невис",Lc:"Сент-Люсия",Rs:"Сербия",Sg:"Сингапур",Sx:"Синт-Мартен",Sy:"Сирия",Sk:"Словакия",Si:"Словения",Sb:"Соломоновы Острова",So:"Сомали",Sd:"Судан",Sr:"Суринам",Us:"США",Sl:"Сьерра-Леоне",Tj:"Таджикистан",Th:"Таиланд",Tz:"Танзания",Tc:"Теркс и Кайкос",Tg:"Того",Tk:"Токелау",To:"Тонга",Tt:"Тринидад и Тобаго",Tv:"Тувалу",Tn:"Тунис",Tm:"Туркмения",Tr:"Турция",Ug:"Уганда",Uz:"Узбекистан",Ua:"Украина",Wf:"Уоллис и Футуна",Uy:"Уругвай",Fo:"Фареры",Fj:"Фиджи",Ph:"Филиппины",Fi:"Финляндия",Fk:"Фолклендские острова",Fr:"Франция",Pf:"Французская Полинезия",Tf:"Французские Южные и Антарктические Территории",Hm:"Херд и Макдональд",Hr:"Хорватия",Cf:"ЦАР",Td:"Чад",Me:"Черногория",Cz:"Чехия",Cl:"Чили",Ch:"Швейцария",Se:"Швеция",Sj:"Шпицберген и Ян-Майен",Lk:"Шри-Ланка",Ec:"Эквадор",Gq:"Экваториальная Гвинея",Er:"Эритрея",Ee:"Эстония",Et:"Эфиопия",Za:"ЮАР",Gs:"Южная Георгия и Южные Сандвичевы Острова",Ss:"Южный Судан",Jm:"Ямайка",Jp:"Япония",Xk:"Косово"},R=document.querySelectorAll(".first-three-days"),G=document.querySelector(".other-cities .forecast__container"),P=document.querySelector(".add-city"),D=["./static/img/content/downtown.jpg","./static/img/content/trees.jpg"];function H(e){var t="";switch(e){case"ясно":t="./static/img/content/svg-icon/022-sun.svg";break;case"переменная облачность":t="./static/img/content/svg-icon/047-cloud.svg";break;case"небольшая облачность":t="./static/img/content/svg-icon/003-cloud.svg";break;case"дождь":case"небольшой дождь":t="./static/img/content/svg-icon/002-rain.svg";break;case"пасмурно":t="./static/img/content/svg-icon/001-cloudy.svg";break;case"облачно с прояснениями":t="./static/img/content/svg-icon/044-cloud.svg";break;case"небольшой снег":t="./static/img/content/svg-icon/006-snow.svg";break;case"снег":t="./static/img/content/svg-icon/015-snow.svg";break;case"небольшой снегопад":t="./static/img/content/svg-icon/036-snowflake.svg"}return t}function K(e){var t="";switch(!0){case 0<=e&&e<45:t="Северный";break;case 45<=e&&e<90:t="Северо-восточный";break;case 90<=e&&e<135:t="Восточный";break;case 135<=e&&e<180:t="Юго-восточный";break;case 180<=e&&e<225:t="Южный";break;case 225<=e&&e<270:t="Юго-западный";break;case 270<=e&&e<315:t="Западный";break;case 315<=e&&e<360:t="Северо-западный";break;default:t="hey"}return t}function F(e){var t,n;for(var r in U)r.toLowerCase()===e.sys.country.toLowerCase()&&(t=e.name,n=U[r]);return{city:t,country:n}}function J(e){var t,n,r,c,a,i,o,s,l,u,d,f=(n=F(t=e),r=[],c=t.weather[0].description,a=Math.floor(t.main.temp),i=H(c),o=n.city,s=n.country,l=t.main.humidity,u=Math.round(t.wind.speed),d=K(t.wind.deg),r.push({forecast:c,temp:a,img:i,city:o,country:s,humidity:l,speed:u,windDirection:d}),r),m='\n        <a class="forecast__link" data-forecast=\'detailed\' data-index-city="'.concat(v.indexOf(f[0].city),'" id="').concat(f[0].city,'" href="#">\n            <div class="forecast__container">\n                <div class="forecast__fact">\n                    <div class="forecast__icon-wrap">\n                        <img\n                            class="forecast__svg-icon"\n                            src=').concat(f[0].img,'\n                            alt="Forecast icon"\n                        />\n                    </div>\n                    <div class="temp-wrap">\n                        <span class="temp-value">').concat(f[0].temp,'</span>\n                    </div>\n                    <div class="forecast__title-wrapper">\n                        <h3 class="forecast__city city-name">').concat(f[0].city,'</h3>\n                        <h4 class="forecast__country">').concat(f[0].country,'</h4>\n                    </div>\n                </div>\n                <ul class="forecast__list-info">\n                    <li class="forecast__info-item">\n                        <span class="forecast__item-value">\n                            Влажность<span class="forecast__humidity"> ').concat(f[0].humidity,'</span>%\n                        </span>\n                    </li>\n                    <li class="forecast__info-item">\n                        <span class="forecast__item-value forecast__wind-direction">\n                            ').concat(f[0].windDirection,'\n                        </span>\n                    </li>\n                    <li class="forecast__info-item">\n                        <span class="forecast__item-value">\n                            <span class="forecast__wind-speed">').concat(f[0].speed,"</span> км/ч\n                        </span>\n                    </li>\n                </ul>\n            </div>\n        </a>");document.querySelector(".other-cities").classList.add("active");var p=document.createElement("LI");p.classList.add("forecast__card"),p.innerHTML=m,G.insertBefore(p,P)}function V(e){var t=document.querySelector(".current-city__city"),n=document.querySelector(".current-city__country"),r=document.querySelector(".main-city__temp-value"),c=document.querySelector(".main-city__svg-icon"),a=document.querySelector(".main-city .card__preview-img"),i=F(e),o=H(e.weather[0].description),s=D[Math.floor(Math.random()*D.length)];t.textContent=i.city,n.textContent=i.country,r.textContent="".concat(Math.round(e.main.temp),"C"),c.src=o,a.src=s}function W(e){for(var t=function(e){for(var t=[],n=0;n<e.list.length;n+=1){var r=e.list[n];if(0<r.dt_txt.indexOf("12:00:00")){var c=["Воскресение","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"][new Date(r.dt_txt.match(/\d+-\d+-\d+/g)).getDay()],a=r.weather[0].description,i=Math.floor(r.main.temp_min),o=Math.round(r.main.temp_max),s=H(a);t.push({day:c,forecast:a,minTemp:i,maxTemp:o,img:s})}}return t}(e),n=0;n<3;n+=1){var r=R[n].querySelector(".forecast__title-weekday-name"),c=R[n].querySelector(".forecast__subtitle-condition"),a=R[n].querySelector(".temp-value"),i=R[n].querySelector(".forecast__svg-icon");r.textContent=t[n].day,c.textContent=t[n].forecast,a.textContent="".concat(t[n].minTemp,"C / ").concat(t[n].maxTemp,"C"),i.src=t[n].img}}function Y(e){var t=e.coords;Promise.all([fetch("https://api.openweathermap.org/data/2.5/weather?lat=".concat(t.latitude,"&lon=").concat(t.longitude,"&appid=00c1c0e14919095681ab242a6510b2da&lang=ru&units=metric")),fetch("https://api.openweathermap.org/data/2.5/forecast?lat=".concat(t.latitude,"&lon=").concat(t.longitude,"&appid=00c1c0e14919095681ab242a6510b2da&lang=ru&units=metric"))]).then(function(e){return Promise.all(e.map(function(e){return e.json()}))}).then(function(e){var t=j(e,2),n=t[0],r=t[1];V(n),W(r)}).catch(function(){return i()})}function Z(e){Promise.all([fetch("https://api.openweathermap.org/data/2.5/weather?q=".concat(e,"&appid=00c1c0e14919095681ab242a6510b2da&lang=ru&units=metric")),fetch("https://api.openweathermap.org/data/2.5/forecast?q=".concat(e,"&appid=00c1c0e14919095681ab242a6510b2da&lang=ru&units=metric"))]).then(function(e){return Promise.all(e.map(function(e){return e.json()}))}).then(function(e){var t=j(e,2),n=t[0],r=t[1];V(n),W(r)}).then(function(){B()}).catch(function(){return i()})}var X=document.querySelector(".search__feed-list"),Q=v.map(function(e){return e.toLowerCase()}),z=document.querySelector(".search__input");function $(){X.classList.remove("active"),X.textContent="",z.value=""}var ee=[{cityName:"Атланта",desc:"Архитектурный облик Атланты,сформированный во второй половине XX века, очень выразителен и современен.В отличие от других южных городов, например Чарльстона, Саванны или Нового Орлеана, Атланта не сохранила в своей центральной части исторические особенности старого Юга. Вместо этого она позиционирует себя столицей «нового Юга» и выразителем нового прогрессивного стиля «хай-тек». В Атланте присутствует большое количество небоскрёбов и высотных зданий в стиле модерн и постмодерн. Самое высокое здание в Атланте — Бэнк оф Америка Плаза — высотой 312 м. Это не только самое высокое здание города, но также штата и вообще Юга США с 1992 года по настоящее время; 11-е по высоте в США (самое высокое здание в США, исключая Нью-Йорк и Чикаго); 77-е по высоте в мире."},{cityName:"Бари",desc:"Ба́ри (итал. Bari, тарант. Bare, др.-греч. Βάριον, лат. Barium) — город-порт на юге Италии. Столица области Апулия и административный центр одноимённой провинции.Старый город Бари лежит на полуострове между старой и новой гаванью, а промышленная зона уходит вглубь материка.Туристов емного, за исключением православных (и в первую очередь русских) паломников к мощам Николая Чудотворца, которые в 1087 году были тайно вывезены из Мир Ликийских и с тех пор хранятся в крипте специально построенной для их размещения базилики Святого Николая (заложена в 1087 году).Замок Штауфенов.С 1915 года (дата приблизительна) в Бари действует православная церковь Николая Чудотворца, спроектированная в староновгородском духе Алексеем Щусевым. Службы в храме ведёт русский священник Московского патриархата. В 2001 году рядом с храмом была установлена статуя Святого Николая работы Вячеслава Клыкова.Другие значительные сооружения города включают соборную церковь Святого Сабина — образец романской архитектуры (1170—1178, реставрирована в 1950-х годах), приморский замок Фридриха Гогенштауфена (Castello Svevo, XIII век) и старинный театр Петруцелли (англ.)русск., обновлённое здание которого открылось в 2009 году. Второй городской театр носит имя барийца Никколо Пиччини."},{cityName:"Бангкок",desc:"Бангко́к, в Таиланде используется название Крунгте́п (тайск. กรุงเทพฯ, Крунгтхеп, или กรุงเทพมหานคร, Крунг Тхеп Маха Накхон) — столица и самый крупный город Таиланда с населением 5,6 млн чел. (2011). Имя, данное городу при основании, попало в Книгу рекордов Гиннесса как самое длинное название города в мире. Бангкок раскинулся на восточном берегу реки Чаупхраи, недалеко от её впадения в Сиамский залив.Один из наиболее быстрорастущих (в том числе экономически) городов Юго-Восточной Азии. Занимает площадь свыше 1,5 тыс. кв. км. Местные жители считают свой город зарождающимся новым региональным центром, способным соперничать с такими городами, как Сингапур и Гонконг. Бангкок является также одним из наиболее привлекательных для туристов городов мира."}],te=document.querySelectorAll(".recomendation .card__link"),ne=document.querySelector(".recomendation-desc"),re=document.querySelector(".recomendation-desc__title"),ce=document.querySelector(".recomendation-desc__description"),ae=function(e){e.preventDefault();var t=e.target.querySelector(".card__title-city").textContent;ee.forEach(function(e){e.cityName===t&&(re.textContent=e.cityName,ce.textContent=e.desc,ne.classList.add("active"))}),document.addEventListener("click",function(e){e.target===ne&&ne.classList.remove("active")})};navigator.geolocation.getCurrentPosition(Y,Z("Москва")),v.forEach(function(e){localStorage.getItem(e)&&fetch("https://api.openweathermap.org/data/2.5/weather?q=".concat(e,"&appid=00c1c0e14919095681ab242a6510b2da&lang=ru&units=metric")).then(function(e){return e.json()}).then(function(e){J(e)}).catch(function(){return i()})}),document.addEventListener("click",function(e){e.target!==l&&e.target!==s||(s.classList.remove("active"),B())}),z.addEventListener("input",Object(r.debounce)(function(e){var t=e.target,n=t.value.toLowerCase();X.textContent="";for(var r=0;r<Q.length;r+=1)if(0===Q[r].indexOf(n)){var c="\n            <a href='#' class='search__feed-link'>".concat(v[r],"</a>"),a=document.createElement("LI");a.classList.add("search__feed-item"),a.innerHTML=c,X.appendChild(a),X.classList.add("active")}""===t.value&&$(),document.querySelectorAll(".search__feed-link").forEach(function(e){e.addEventListener("click",function(e){e.preventDefault();var t=e.target.textContent;$(),f.classList.remove("done"),Z(t),setTimeout(function(){return f.classList.add("done")},1e3)})})},1e3)),o.addEventListener("click",function(){document.querySelector(".select-city__list-item")||g(),s.classList.toggle("active");var e=document.querySelectorAll(".select-city__list-item");localStorage.getItem("activeLinks")&&JSON.parse(localStorage.getItem("activeLinks")).forEach(function(e){document.querySelector('.select-city__list-cities [data-index-city="'.concat(e.id,'"]')).classList.add("active")});d.addEventListener("click",function(){!function(e){if(""!==e){var n=e.toLowerCase();document.querySelectorAll(".select-city__city-link").forEach(function(e){if(n===e.textContent.toLowerCase()){var t=e.closest(".select-city__list-item").offsetTop;m.scrollTop=t-142,u.value=""}})}}(u.value)}),e.forEach(function(e){e.addEventListener("click",_)})}),te.forEach(function(e){e.addEventListener("click",ae)})},61:function(e,t){function n(t,n,r){var c,a,i,o,s;function l(){var e=Date.now()-o;e<n&&0<=e?c=setTimeout(l,n-e):(c=null,r||(s=t.apply(i,a),i=a=null))}null==n&&(n=100);var e=function(){i=this,a=arguments,o=Date.now();var e=r&&!c;return c||(c=setTimeout(l,n)),e&&(s=t.apply(i,a),i=a=null),s};return e.clear=function(){c&&(clearTimeout(c),c=null)},e.flush=function(){c&&(s=t.apply(i,a),i=a=null,clearTimeout(c),c=null)},e}n.debounce=n,e.exports=n}});